\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for \progname{}}

\author{\authname}

\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
	\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
	\midrule
	Date 1 & 1.0 & Notes\\
	Date 2 & 1.1 & Notes\\
	\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \url{https://github.com/BillNguyen1999/REVITALIZE/tree/main/docs/SRS}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
	\toprule		
	\textbf{symbol} & \textbf{description}\\
	\midrule 
	REVITALIZE & Name of application\\
	UAT & User Acceptance Testing\\
	UI/UX & User Interface/User Experience\\
	HCI & Human-Computer Interface\\
	MG & Module Guide\\
	MIS & Module Interface Specification\\
	SRS & Software Requirements Specification\\
	VnV & Verification and Validation\\
	LP & Login Page\\
	SP & Sign-up Page\\
	MP & Main Page\\
	DS & Diet Section\\
	WS & Workout Section\\
	RS & Rest Section\\
	\bottomrule
\end{tabular}\\

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for
the REVITALIZE app. The REVITALIZE app is an all-in-one health and wellness app, comprised of 1 main 
section and 3 major subsections. The main section is a calendar which organizes and documents the contents of the 3 subsections. 
The 3 subsections are the diet section, workout section, and sleep section.

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at \url{https://github.com/BillNguyen1999/REVITALIZE/tree/main/docs}.

\section{Notation}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
	\renewcommand{\arraystretch}{1.2}
	\noindent 
	\begin{tabular}{l l p{7.5cm}} 
		\toprule 
		\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
		\midrule
		character & char & a single symbol or digit\\
		integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
		natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
		real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
		boolean & bool & value can be True (1) or False (0)\\
		user & User & represents user object, for users of REVITALIZE\\
		date & Date & represents date object, which is useful to add/set/manipulate dates\\
		\bottomrule
	\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
	\centering
	\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
		\toprule
		\textbf{Level 1} & \textbf{Level 2}\\
		\midrule
		
		{Hardware-Hiding} & ~ \\
		\midrule
		
		\multirow{7}{0.3\textwidth}{Behaviour-Hiding} & Input Parameters\\
		& Output Format\\
		& Output Verification\\
		& Temperature ODEs\\
		& Energy Equations\\ 
		& Control Module\\
		& Specification Parameters Module\\
		\midrule
		
		\multirow{3}{0.3\textwidth}{Software Decision} & {Sequence Data Structure}\\
		& ODE Solver\\
		& Plotting\\
		\bottomrule
		
	\end{tabular}
	\caption{Module Hierarchy}
	\label{TblMH}
\end{table}

\newpage
~\newpage

\section{MIS of Main Menu} \label{Module} 

\subsection{Main Menu Module}

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{Ionicons:} Library for icons}\\
{\textit{Moment} Library is used for Dates (ex. setting date formats (YY/MM/DD))}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Types}
MainScreen = this

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
	\hline
	{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
	\hline
	{displayDietScreen} & User, Date & & \\
	\hline
	{displayExerciseScreen} & User, Date & & \\
	\hline
	{displaySleepScreen} & User, Date & & \\
	\hline
	{displayCalendarScreen} & & & \\
	\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}

user: User\\\\
date: Date


\subsubsection{Environment Variables}

dateText: Text object that displays the selected date.\\\\
dateButton: Button object that displays Calendar Screen when clicked.\\\\
forwardButton: Button object that displays the next day from current Date value in dateText when clicked\\\\
backwardButton: Button object that displays the previous day from current Date value in dateText when clicked\\\\
dietButton: Button object that displays Diet Screen when clicked\\\\
exerciseButton: Button object that displays Exercise Screen when clicked\\\\
sleepButton: Button object that displays Sleep Screen when clicked

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent displayDietScreen(user, date):
\begin{itemize}
	\item transition: Navigates to Diet Screen when dietButton is pressed 
	\item exception: None 
\end{itemize}

\noindent displayExerciseScreen(user, date):
\begin{itemize}
	\item transition: Navigates to Exercise Screen when exerciseButton is pressed
	\item exception: None 
\end{itemize}

\noindent displaySleepScreen(user, date):
\begin{itemize}
	\item transition: Navigates to Sleep Screen when sleepButton is pressed
	\item exception: None 
\end{itemize}

\noindent displayCalendarScreen():
\begin{itemize}
	\item transition: Navigates to Calendar Screen when dateButton is pressed
	\item exception: None 
\end{itemize}

\subsubsection{Local Functions}

\noindent forwardSetDate():
\begin{itemize}
	\item transition: date.value := date.value + 1. Sets the next day from the current Date value in dateText when clicked.  
	\item exception: None 
\end{itemize}

\noindent backwardSetDate():
\begin{itemize}
	\item transition: date.value := date.value - 1. Sets the previous day from the current Date value in dateText when clicked. 
	\item exception: None 
\end{itemize}

\section{MIS of Calendar} \label{Module} 

\subsection{Calendar Module}

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{react-native-calendars:} Library useful for implementing calendars in react-native}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Types}
CalendarScreen = this

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
	\hline
	{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
	\hline
	{onDayPress} & & & \\
	\hline
	{onMonthChange} & & & \\
	\hline
	{onPressArrowLeft} & & & \\
	\hline
	{onPressArrowRight} & & & \\
	\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
date: Date

\subsubsection{Environment Variables}

monthText: Text object that displays the selected month.\\\\
forwardMonthButton: Button object that displays the next month from current month value in monthText when clicked\\\\
backwardMonthButton: Button object that displays the previous month from current month value in monthText when clicked


\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent onDayCalendar():
\begin{itemize}
	\item transition: Changes date value to selected date value in CalendarScreen 
	\item exception: None
\end{itemize}

\noindent onMonthChange():
\begin{itemize}
	\item transition: Changes date.month.value to new date.month.value and monthText will be changed to string value of new date.month.value
	\item exception: None 
\end{itemize}

\noindent onPressArrowRight():
\begin{itemize}
	\item transition: date.month.value := date.month.value + 1. Sets the next date.month.value from the current date.month.value in monthText when clicked
	\item exception: None 
\end{itemize}

\noindent onPressArrowLeft():
\begin{itemize}
	\item transition: date.month.value := date.month.value - 1. Sets the previous date.month.value from the current date.month.value in monthText when clicked
	\item exception: None 
\end{itemize}

\subsubsection{Local Functions}

N/A

\section{MIS of Sleep} \label{Module} 

\subsection{Container Module}

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{react-native-reanimated}}\\
{\textit{react-native-redash}}\\
{\textit{Label:} Module}

\subsection{Syntax}

\subsubsection{Exported Constants}
PI := Math (object that provides mathematics functionality and constants)\\
TAU := 2 * PI\\
PADDING := 24
\subsubsection{Exported Types}
N/A

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
	\hline
	{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
	\hline
	{DisplayContainer} & & & \\
	\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
date: Date

\subsubsection{Environment Variables}
BedTimeText: Text object that displays the selected bedtime.\\\\
WakeUpTimeText: Text object that displays the selected wake up time.\\\\
SleepTimeText: Text object that displays the total sleep time.\\\\
ArcStartPos: Polar coordinates object representing starting position of circular slider arc. Modifies bedtime when slid.\\\\
ArcEndPos: Polar coordinates object representing ending position of circular slider arc. Modifies wake up time when slid.\\\\
CircularSliderArc: string literal object representing an arc.
\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent DisplayContainer():
\begin{itemize}
	\item output: display bedtime, wake up time, sleep time, arc starting and ending positions, and circular slider arc
	\item exception: None
\end{itemize}

\subsubsection{Local Functions}

\noindent radToMinutes(rad):
\begin{itemize}
	\item output: rad * 24 * 60 / TAU
	\item exception: None 
\end{itemize}

\noindent absoluteDuration(start, end):
\begin{itemize}
	\item output: start $>$ end ? end + (TAU - start) : end - start  
	\item exception: None 
\end{itemize}

\noindent formatDuration2(duration):
\begin{itemize}
	\item output: format duration to hours followed by minutes.
	\item exception: None 
\end{itemize}

\newpage

\section* {FoodT Module}

\subsection*{Module}

IndicatorT

\subsection* {Uses}

None

\subsection* {Syntax}

\subsubsection* {Exported Constants}

None

\subsubsection* {Exported Types}

FoodT = \{\\
    calories, \textit{\#Calories in meal}\\
    name, \textit{\#Name of meal}\\
    carbs, \textit{\#Carbohydrates in meal}\\
    protein, \textit{\#Protein in meal}\\
    fat \textit{\#Fat in meal}\\
\}

\subsubsection* {Exported Access Programs}

None

\subsection* {Semantics}

\subsubsection* {State Variables}

None

\subsubsection* {State Invariant}

None

\subsubsection* {Assumptions}

None

\subsubsection* {Considerations}

None

\section{Diet Log Module} \label{Module} 

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{Ionicons:} Library for icons}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Types}
DietLogScreen = this

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
\hline
{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
\hline
{calculateDailyNutrition} &seq of FoodT &seq of $<$String, \(\mathbb{R}\)$>$ &\\
\hline
{removeFood} &food: FoodT & & \\
\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
foodList: seq of FoodT\\
totalNutrition: seq of $<$String, \(\mathbb{R}\)$>$\\
date: Date

\subsubsection{Environment Variables}

addFoodButton: Button object that shifts user to Search or Add Food Module.\\\\
deleteFoodButton: Button object that deletes a food entry from this module when clicked\\\\
editFoodButton: Button object navigates to Log Meal Module


\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent calculateDailyNutrition():
\begin{itemize}
\item transition: totalNutrition :=$ \sum $ foodList
\item exception: None 
\end{itemize}

\noindent removeFood(food: FoodT):
\begin{itemize}
\item transition: foodList := \{foodList\} $\backslash$ food. Sets the next date.month.value from the current date.month.value in monthText when clicked
\item exception: None 
\end{itemize}

\subsubsection{Local Functions}

N/A

\section{Search or Add Food Module} \label{Module} 

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Types}
DecisionScreen = this

\subsubsection{Exported Access Programs}

None

\subsection{Semantics}

\subsubsection{State Variables}
None

\subsubsection{Environment Variables}

searchRecipeButton: Button object that shifts user to Search Recipe Module.\\\\
addCustomMealButtom: Button object that shifts user to Log Meal Module\\\\

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent calculateDailyNutrition():
\begin{itemize}
\item transition: totalNutrition :=$ \sum $ foodList
\item exception: None 
\end{itemize}

\noindent removeFood(food: FoodT):
\begin{itemize}
\item transition: foodList := \{foodList\} $\backslash$ food. Sets the next date.month.value from the current date.month.value in monthText when clicked
\item exception: None 
\end{itemize}

\subsubsection{Local Functions}

N/A

\section{Custom Meal Module} \label{Module} 

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{react-native-calendars:} Library useful for implementing calendars in react-native}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Types}
CustomMealScreen = this

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
\hline
{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
\hline
{saveCustomMeal} &foodInfo: seq of String &FoodT & \\
\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
foodList: seq of String\\

\subsubsection{Environment Variables}

addButton: Save food information.\\\\

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent saveCustomMeal(foodInfo):
\begin{itemize}
\item transition: foodList := foodList $ \cup $ FoodT(foodInfo)
\item exception: None
\end{itemize}

\subsubsection{Local Functions}

N/A

\newpage

\section{Search Recipe Module} \label{Module} 

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{Ionicons:} Library for icons}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}
N/ A
\subsubsection{Exported Types}
SearchRecipeScreen = this

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
\hline
{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
\hline
{searchRecipe} &filterList: seq of $<$String, String$>$ &Seq of  $<$String, String$>$ &\\
\hline
{returnRecipeList} &&Seq of  $<$String, String$>$ &\\
\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
filterList: seq of $<$String, String$>$\\
recipeList: Seq of  $<$String, String$>$\\

\subsubsection{Environment Variables}

searchRecipeButton: Button object that shifts user to Search Results Module, calls searchRecipe().\\\\

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent searchRecipe(filterList):
\begin{itemize}
\item transition: Populates state variable recipeList using external API call.
\item exception: None 
\end{itemize}

\subsubsection{Local Functions}

N/A

\section{Recipe Results Module} \label{Module} 

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{react-native-calendars:} Library useful for implementing calendars in react-native}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\
\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Types}
RecipeResultsScreen = this

\subsubsection{Exported Access Programs}

\begin{tabular}{| l | l | l | l |}
\hline
{\textbf{Name}} & {\textbf{In}} & {\textbf{Out}} & {\textbf{Exceptions}}\\
\hline
{retrieveRecipeInfo} &recipeLink: String & $<$String, FileObject$>$ & \\
\hline
\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
recipeList: Seq of  $<$String, String$>$\\

\subsubsection{Environment Variables}

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent retrieveRecipeInfo(recipeLink):
\begin{itemize}
\item transition: Retrieve details and picture file of recipe found at recipeLink
\item exception: None
\end{itemize}

\subsubsection{Local Functions}

N/A

\section{Recipe Details Module} \label{Module} 

\subsection{Uses}
{\textit{react}}\\
{\textit{react-native}}\\
{\textit{globalStyles:} CSS file to change designs of project}\\
{\textit{Ionicons:} Library for icons}\\
{\textit{useRoute} react file that is used to navigate between screens of project}\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Types}
RecipeDetailsScreen = this

\subsubsection{Exported Access Programs}
N/A

\subsection{Semantics}

\subsubsection{State Variables}
recipeDetails: seq of $<$String, FileObject$>$\\

\subsubsection{Environment Variables}

addRecipeButton: Add recipe to Daily Food Log.\\\\

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}


\subsubsection{Local Functions}

N/A

\newpage



\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\end{document}